<!DOCTYPE html>
<html lang="pt-BR" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>REVOADA RJ | Login</title>
  <script>
    (function () {
      try {
        var last = localStorage.getItem("revoada_ui_last_user");
        var key = last ? "revoada_ui_prefs:" + last : "revoada_ui_prefs:default";
        var raw = localStorage.getItem(key) || localStorage.getItem("revoada_ui_prefs:default");
        var prefs = raw ? JSON.parse(raw) : null;
        var theme = prefs && prefs.theme ? prefs.theme : (window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light");
        document.documentElement.setAttribute("data-theme", theme);
        var fontScale = prefs && prefs.fontScale ? prefs.fontScale : 1;
        document.documentElement.style.setProperty("--font-scale", fontScale);
        var density = prefs && prefs.density ? prefs.density : "comfortable";
        var densityPx = density === "compact" ? "8px" : "14px";
        document.documentElement.style.setProperty("--density", densityPx);
      } catch (e) {}
    })();
  </script>
  <link rel="icon" href="favicon.svg" type="image/svg+xml" />
  <link rel="stylesheet" href="css/styles.css" />
</head>
<body data-public="true">
  <div class="login-page">
    <div class="login-card">
      <div class="badge">Acesso Staff</div>
      <h1>Metas REVOADA RJ</h1>
      <p>Faça login com o Discord para gerenciar as metas da equipe. O acesso é permitido apenas para cargos autorizados.</p>
      <button onclick="window.location.href='api/auth/login'">Entrar com Discord</button>
      <button class="secondary" id="mockLogin">Simular login (teste)</button>
      <div style="font-size:0.85rem;color:var(--muted)">
        Autenticação segura via OAuth2. Logs e auditorias salvos em JSON.
      </div>
    </div>
  </div>
  <script>
    document.getElementById("mockLogin").addEventListener("click", function () {
      localStorage.setItem("revoada_mock_login", "true");
      localStorage.setItem("revoada_mock_user_id", "mock-user");
      localStorage.setItem("revoada_mock_user_name", "Mock Staff");
      window.location.href = "index.html";
    });
  </script>
  <script src="js/app.js"></script>
</body>
</html>
